삼X이XX이 Wellding Engine AI


1. Unreal Engine 연동: 이 코드만으로는 Unreal Engine과의 직접적인 연동이 이루어지지 않습니다. Unreal Engine 프로젝트 설정, C++/블루프린트 스크립팅, 그리고 Python과의 통신 (예: TCP/IP, gRPC, OSC 등)을 위한 별도의 작업이 필요합니다. 여기서는 Python 측면에서의 인터페이스 역할만 가정합니다.
2. AI 모델 학습: 제공된 코드는 PyTorch 모델의 구조를 정의하지만, 실제 학습을 위해서는 대량의 레이블링된 데이터 (센서 데이터, 비드 형상 이미지 등)가 필요합니다. 데이터가 없으므로 학습된 모델 파일을 제공할 수는 없습니다.
3. 물리 시뮬레이션: Unreal Engine 기반 물리 시뮬레이션 로직은 Python 코드가 아닌 Unreal Engine 내부에 구현되어야 합니다.
4. 데이터베이스: 실제 데이터베이스 연동 코드는 포함되지 않았습니다. 데이터 로딩 부분은 예시 파일(CSV)을 읽는 형태로 구현합니다.
5. 완전한 기능: 이 코드는 이미지에 명시된 전체 시스템의 기본 뼈대를 제공하며, 각 모듈이 어떻게 구성될 수 있는지를 보여줍니다. 실제 현장에 적용하기 위해서는 많은 추가 개발과 데이터 기반의 상세 구현이 필요합니다.


파일 목록:

config.py: 설정 값 (파라미터 범위, 파일 경로 등) 관리
data_handler.py: 데이터 로딩, 전처리, DB 연동 (여기서는 CSV 예시) 담당
physics_interface.py: Unreal Engine 물리 시뮬레이션과의 연동 인터페이스 (가상)
ai_model.py: PyTorch 기반 AI 모델 구조 정의
trainer.py: AI 모델 학습 로직
predictor.py: 용접 결과 예측 로직 (AI 또는 물리 시뮬레이션 기반)
evaluator.py: 예측 결과 평가 및 품질 점수 계산
main.py: 전체 프로세스 실행 스크립트
requirements.txt: 필요한 파이썬 라이브러리 목록
dummy_sensor_data.csv: 예시 센서 데이터 파일
dummy_labels.csv: 예시 레이블 데이터 파일



---

Model Analysis List and Work in Progress List

**(1) 로봇 제어 및 통신 인터페이스 (`robot_control_interface.py`)**

* **역할:** Python 애플리케이션과 현X KX 로봇 컨트롤러(Hi5a 등) 간의 통신을 담당합니다. 4대의 로봇 각각에 대해 독립적인 또는 통합된 통신 채널을 관리합니다.
* **주요 기능:**
    * 현대 로보틱스 통신 프로토콜 구현 (TCP/IP 소켓, 전용 프로토콜 등)
    * 로봇 상태 모니터링 (현재 위치, 속도, 모터 상태, 에러 코드 등) - 실시간 수신
    * 로봇 프로그램(JOB) 실행/정지/일시정지 명령 전송
    * 로봇 좌표계 기반 경로(Path) 데이터 전송 또는 티칭 포인트 기반 동작 지시
    * 로봇 I/O 제어 (예: 용접기 On/Off, 클램프 제어 신호)
    * 로봇 파라미터 설정 및 조회 (예: 속도, 가감속 프로파일)
    * **고도화:** 4대 로봇 간의 충돌 방지 로직, 동기화된 작업 실행 기능 포함 고려.

**(2) 용접 프로세스 관리자 (`welding_process_manager.py`)**

* **역할:** 전체 용접 작업 흐름을 관리하고, 로봇, 용접기, 센서 등 관련 장비들을 조율합니다.
* **주요 기능:**
    * 작업 시퀀스 정의 (예: 부품 로딩 -> 로봇 이동 -> 용접 시작 -> 용접 경로 수행 -> 용접 종료 -> 로봇 원점 복귀)
    * 용접 조건(전류, 전압, 속도, 위빙 파라미터 등) 관리 및 로봇/용접기에 설정 전달
    * 4대 로봇의 작업 할당 및 스케줄링 (필요시)
    * 용접 중 발생하는 이벤트 처리 (예: 아크 불안정 감지 시 알림 또는 파라미터 조정)
    * 용접 시작/종료 시 데이터 로깅 트리거

**(3) 실시간 센서 데이터 수집 및 처리 (`sensor_data_handler.py`)**

* **역할:** 용접 품질과 관련된 다양한 센서 데이터를 실시간으로 수집하고 전처리합니다.
* **주요 기능:**
    * 용접기 데이터 수집 (전류, 전압 피드백 - 고속 샘플링 필요 가능성)
    * 비전 센서 데이터 수집 (아크 모니터링, 비드 형상 검사 카메라) - 이미지 캡처 및 기본 처리 (ROI 설정 등)
    * 레이저 센서 데이터 수집 (용접선 추적, 비드 높이/폭 측정) - 포인트 클라우드 또는 프로파일 데이터 처리
    * 기타 센서 (온도, 가스 유량 등) 인터페이스
    * 수집된 데이터의 동기화 (타임스탬프 기준) 및 정규화/필터링
    * 데이터를 AI 예측 모듈 또는 품질 평가 모듈로 전달

**(4) AI 기반 예측 및 진단 모듈 (`ai_inference_engine.py`)**

* **역할:** 실시간으로 수집된 센서 데이터를 기반으로 용접 품질(결함 유형, 비드 형상 등)을 예측하거나 이상 상태를 진단합니다.
* **주요 기능:**
    * 이전에 생성한 `ai_model.py`의 **학습된 모델** 로딩 (PyTorch, TensorFlow 등)
    * `sensor_data_handler`로부터 받은 데이터를 모델 입력 형식에 맞게 변환 (스케일링, 리셰이핑 등)
    * 모델 추론(Inference) 실행하여 예측 결과(클래스, 확률, 점수 등) 생성
    * 예측 결과의 신뢰도 평가
    * **고도화:** 실시간 데이터 스트림 처리를 위한 모델 최적화 (예: TensorRT), 경량 모델 사용 고려. 시간적 패턴을 고려한 시계열 모델(RNN, LSTM) 적용 가능.

**(5) 용접 품질 평가 및 적응 제어 (`quality_evaluator_adaptive_control.py`)**

* **역할:** AI 예측 결과, 센서 데이터, 물리 기반 모델(필요시) 등을 종합하여 최종적인 용접 품질을 평가하고, 필요한 경우 실시간으로 용접 파라미터를 조정하는 제어 로직을 포함합니다.
* **주요 기능:**
    * AI 예측 결과 해석 및 품질 등급 판정 (예: Good, Rework, Scrap)
    * 실시간 센서 데이터 기반 규칙 기반(Rule-based) 결함 감지 로직 (AI 보완)
    * **적응 제어 (Adaptive Control):**
        * 품질 저하 예측 또는 감지 시, 사전에 정의된 규칙이나 AI 기반 제어 정책에 따라 용접 파라미터(전류, 전압, 속도 등) 실시간 조정 명령 생성
        * 조정 명령을 `welding_process_manager` 또는 `robot_control_interface`로 전달하여 실제 로봇/용접기에 반영
    * 용접 후 비전 검사 결과 등 후처리 데이터와 연계하여 최종 품질 기록

**(6) 데이터베이스 및 로깅 시스템 (`data_logger_db.py`)**

* **역할:** 모든 용접 공정 데이터, 센서 데이터, AI 예측 결과, 품질 평가 결과, 로봇 상태 로그 등을 체계적으로 저장하고 관리합니다.
* **주요 기능:**
    * 용접 작업별 고유 ID 부여 및 관련 데이터 연동
    * 시계열 데이터베이스(예: InfluxDB, TimescaleDB) 또는 관계형 데이터베이스(예: PostgreSQL) 선택 및 스키마 설계
    * 대용량 데이터 저장을 위한 효율적인 로깅 메커니즘
    * 데이터 조회 및 분석을 위한 인터페이스 제공

**(7) 사용자 인터페이스 (HMI - Human Machine Interface) (`hmi_application/`)**

* **역할:** 운영자 및 관리자가 시스템 상태를 모니터링하고, 작업을 설정하며, 결과를 확인하고, 시스템과 상호작용할 수 있는 그래픽 인터페이스를 제공합니다. (별도의 애플리케이션으로 개발될 가능성이 높음)
* **주요 기능:**
    * 4대 로봇의 실시간 상태 시각화 (3D 모델 뷰 포함 가능)
    * 용접 파라미터 설정 및 작업 레시피 관리
    * 실시간 센서 데이터 그래프 및 이미지 표시
    * AI 예측 결과 및 품질 평가 결과 표시
    * 알람 및 이벤트 로그 표시
    * 사용자 권한 관리

**(8) 시스템 설정 및 관리 (`config_manager.py`, `system_manager.py`)**

* **역할:** 전체 시스템의 설정 값(네트워크 주소, 로봇 모델, 센서 종류, AI 모델 경로 등)을 관리하고, 각 모듈의 실행/종료 등 생명주기를 관리합니다.
* **주요 기능:**
    * 설정 파일 로딩 및 관리
    * 모듈 간 통신 설정 (예: 메시지 큐 - RabbitMQ, ZeroMQ 사용)
    * 시스템 상태 모니터링 및 오류 보고

